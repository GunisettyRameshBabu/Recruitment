<form
  class="example-form"
  [formGroup]="recruitGroup"
  (ngSubmit)="onSubmit()"
  autocomplete="off"
  novalidate
  fxLayout="column wrap"
  fxLayoutAlign="center center"
  fxLayoutGap="10px"
>
  <div class="e-card">
    <div class="e-card-header">
      <div class="e-card-header-caption">
        <div class="e-card-header-title">
          <h5>{{ recruit.id == 0 ? "Add Candidate Info" : "Edit Candidate Info" }}</h5>
        </div>

        <div class="e-card-content">
          <div class="row">
            <div class="col-md-4 col-sm-12 col-xs-12 col-lg-4 col-xlg-4">
              <mat-form-field>
                <mat-label>First Name *</mat-label>
                <input
                  matInput
                  placeholder="First name"
                  formControlName="firstName"
                />
                <mat-error *ngIf="hasError('firstName', 'required')"
                  >First name is required</mat-error
                >
              </mat-form-field>
            </div>
            <div class="col-md-4 col-sm-12 col-xs-12 col-lg-4 col-xlg-4">
              <mat-form-field>
                <mat-label>Middle Name </mat-label>
                <input
                  matInput
                  placeholder="Middle name"
                  formControlName="middleName"
                />
              </mat-form-field>
            </div>
            <div class="col-md-4 col-sm-12 col-xs-12 col-lg-4 col-xlg-4">
              <mat-form-field>
                <mat-label>Last Name *</mat-label>
                <input
                  matInput
                  placeholder="Last name"
                  formControlName="lastName"
                />
                <mat-error *ngIf="hasError('lastName', 'required')"
                  >Last name is required</mat-error
                >
              </mat-form-field>
            </div>
          </div>

          <div class="row">
            <div class="col-md-4 col-sm-12 col-xs-12 col-lg-4 col-xlg-4">
              <mat-form-field>
                <mat-label>Email *</mat-label>
                <input matInput placeholder="Email" formControlName="email" />
                <mat-error *ngIf="hasError('email', 'required')"
                  >Email is required</mat-error
                >
                <mat-error *ngIf="hasError('email', 'email')"
                  >Please enter valid email</mat-error
                >
              </mat-form-field>
            </div>

            <div class="col-md-4 col-sm-12 col-xs-12 col-lg-4 col-xlg-4">
              <mat-form-field>
                <mat-label>Job Id *</mat-label>
                <mat-select formControlName="jobid">
                  <mat-option [value]=""> </mat-option>
                  <mat-option *ngFor="let i of jobs" [value]="i.id">
                    {{ i.name }}
                  </mat-option>
                </mat-select>
                <mat-error *ngIf="hasError('jobid', 'required')"
                  >Job id is required</mat-error
                >
              </mat-form-field>
            </div>

            <div class="col-md-4 col-sm-12 col-xs-12 col-lg-4 col-xlg-4">
              <mat-form-field>
                <mat-label>Phone *</mat-label>
                <input matInput placeholder="Phone" formControlName="phone" />
                <mat-error *ngIf="hasError('phone', 'required')"
                  >Phone Number is required</mat-error
                >
              </mat-form-field>
            </div>
          </div>
          <div class="row">
            <div class="col-md-4 col-sm-12 col-xs-12 col-lg-4 col-xlg-4">
              <mat-form-field>
                <mat-label>Status *</mat-label>
                <mat-select formControlName="status">
                  <mat-option [value]=""> </mat-option>
                  <mat-option *ngFor="let i of statusList" [value]="i.id">
                    {{ i.name }}
                  </mat-option>
                </mat-select>
                <mat-error *ngIf="hasError('status', 'required')"
                  >Status is required</mat-error
                >
              </mat-form-field>
            </div>
            <div class="col-md-8 col-sm-12 col-xs-12 col-lg-8 col-xlg-8">
              <mat-form-field>
                <mat-label>Comments *</mat-label>
                <textarea
                  matInput
                  placeholder="Ex. ......."
                  formControlName="comments"
                  style="min-height: 75px;"
                ></textarea>
                <mat-error *ngIf="hasError('comments', 'required')"
                  >Comment is required</mat-error
                >
              </mat-form-field>
            </div>
          </div>
          <div class="row">
            <div class="col-md-8 col-sm-12 col-xs-12 col-lg-8 col-xlg-8">
              <div class="e-float-input upload-area">
                <div class="row">
                  <input
                    type="file"
                    #fileInput
                    id="fileUpload"
                    name="fileUpload"
                    multiple="multiple"
                    accept="application/pdf,application/msword,
  application/vnd.openxmlformats-officedocument.wordprocessingml.document"
                    style="display: none;"
                    (change)="uploadFile(fileInput.files)"
                  />
                  <div class="col-md-6 col-sm-12 col-xs-12 col-lg-6 col-xlg-6">
                    <mat-form-field>
                      <mat-label>Upload Resume *</mat-label>
                      <input
                        type="text"
                        id="upload"
                        name="upload"
                        readonly
                        formControlName="fileName"
                        matInput
                      />

                      <mat-error *ngIf="hasError('fileName', 'required')"
                        >Resume is required</mat-error
                      >
                    </mat-form-field>
                  </div>
                  <div class="col-md-6 col-sm-12 col-xs-12 col-lg-6 col-xlg-6">
                    <button
                      id="browse"
                      type="button"
                      class="e-control e-btn e-info"
                      (click)="fileInput.click()"
                    >
                      Browse...
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-md-4 col-sm-12 col-xs-12 col-lg-4 col-xlg-4">
              <div
                class="btn-toolbar float-right"
                role="toolbar"
                aria-label="Toolbar with button groups"
              >
                <div
                  class="btn-group mr-2"
                  role="group"
                  aria-label="First group"
                >
                  <button
                    type="button"
                    class="btn btn-secondary"
                    (click)="cancel()"
                  >
                    Cancel
                  </button>
                </div>
                <div
                  class="btn-group mr-2"
                  role="group"
                  aria-label="Second group"
                >
                  <button type="submit" class="btn btn-primary">Save</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
